---
title: "Gov 50 Final Project"
author: "Ella Trembanis"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---



## Project Proposal

Does gender impact to student dropout rates? Using publicly-available data on recent high school dropout rates in Delaware, I intend to assess the relationship between gender and dropping out of high school. My hypothesis is that male students may be more likely to drop out, perhaps due to their pursuing "masculine-coded" jobs involving manual labor and/or trades skills which may not require high school diplomas. In this project, the explanatory variable is gender, which is designated "Male" or "Female" in the original dataset. This will ultimately be coded into a binary variable which returns "1" for male students and "0" for female students. The outcome variable is the student dropout rate in a given year (calculated by dividing the number of dropouts by the total student population), and will be grouped by gender. A pattern of consistent and substantially higher dropout rates among male students would support my initial hypothesis. In mathematical terms, this would be a significant, positive correlation between being male (that is to say, having an x-term of "1") and dropouts. On the other hand, a negative or approximately zero correlation would contradict my hypothesis and suggest either (in the case of a negative correlation) that being female is associated with higher dropout rates or (in the case of a correlation of approximately zero) that there is no meaningful relationship between the two variables.

## Data Visualization

```{r setup}
library(tidyverse)
library(ggplot2)
dropout <- read.csv("data/Student_Dropout.csv")
```

```{r gender scatter}
dropout_gender <- dropout |>
  filter(Gender != "All Students") |>
  group_by(Gender, School.Year) |>
  summarize(
    avg_dropout_pct = mean(PctDropouts, na.rm = TRUE)
  )

dropout_gender_scatter <- ggplot(dropout_gender, 
                             mapping = aes(x = School.Year, y = avg_dropout_pct)) +
  geom_point(aes(color = Gender)) +
  geom_smooth(aes(color = Gender), se = FALSE, span = 1) +
  labs(
    x = "School Year",
    y = "Average Dropout Rate (%)",
    title = "Yearly Dropout Rates by Gender, 2015-2022"
  )
dropout_gender_scatter
```

## Additional Plots

```{r race barplot}
dropout_race <- dropout |>
  filter(Organization == "State of Delaware") |>
  filter(Race == "African American" | Race == "White" | Race == "Asian American" | Race == "Hispanic/Latino" | Race == "Multi-Racial" | Race == "Native American") |>
  group_by(Race) |>
  summarize(
    avg_pct_dropout = mean(PctDropouts, na.rm = TRUE)
  )

dropout_bar <- ggplot(dropout_race, aes(x = Race, y = avg_pct_dropout)) +
         geom_col(fill = "dodgerblue1") +
  geom_hline(yintercept = 5.0294349, linewidth = 1.5) +
  labs(
    y = "Average Dropout Rate (%)",
    title = "Dropout Rates by Race, 2015-2022"
  ) +
  annotate("text", x = 2, y = 5.35, label = "Average Overall Dropout Rate")
dropout_bar
```

```{r race scatter}
dropout_race_year <- dropout |>
  filter(Organization == "State of Delaware") |>
  filter(Race == "African American" | Race == "White" | Race == "Asian American" | Race == "Hispanic/Latino" | Race == "Multi-Racial" | Race == "Native American") |>
  group_by(School.Year, Race) |>
  summarize(
    avg_dropout_pct = mean(PctDropouts, na.rm = TRUE)
  ) |>
  drop_na(avg_dropout_pct)

dropout_race_scatter <- ggplot(dropout_race_year, mapping = 
                                 aes(x = School.Year, y = avg_dropout_pct)) +
  geom_point(aes(color = Race)) +
  geom_smooth(aes(color = Race), se = FALSE, span = 1) +
  labs(
    x = "School Year",
    y = "Average Dropout Rate (%)",
    title = "Yearly Dropout Rates by Race, 2015-2022"
  )

dropout_race_scatter
```
